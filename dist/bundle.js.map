{"version":3,"file":null,"sources":["../app/index.js","../config/environments/development.js","../app/controllers/application.js","../app/controllers/bookings.js","../app/controllers/guests.js","../app/controllers/rooms.js","../config/database.js","../db/migrate/2016061406511190-create-guests.js","../db/migrate/2016061406562770-create-bookings.js","../db/migrate/2016061407021883-create-rooms.js","../app/models/booking.js","../app/models/guest.js","../app/models/room.js","../app/routes.js","../app/utils/range.js","../db/seed.js","../app/serializers/application.js","../app/serializers/bookings.js","../app/serializers/guests.js","../app/serializers/rooms.js"],"sourcesContent":["import { Application } from 'lux-framework';\n\nclass MToNrelationshipJsonapi extends Application {\n\n}\n\nexport default MToNrelationshipJsonapi;\n","export default {\n  log: true\n};\n","import { Controller } from 'lux-framework';\n\nclass ApplicationController extends Controller {\n\n}\n\nexport default ApplicationController;\n","import { Controller } from 'lux-framework';\n\nclass BookingsController extends Controller {\n  params = [\n    'date',\n    'duration'\n  ];\n}\n\nexport default BookingsController;\n","import { Controller } from 'lux-framework';\n\nclass GuestsController extends Controller {\n  params = [\n    'name'\n  ];\n}\n\nexport default GuestsController;\n","import { Controller } from 'lux-framework';\n\nclass RoomsController extends Controller {\n\n}\n\nexport default RoomsController;\n","export default {\n  development: {\n    driver: 'sqlite3',\n    database: 'm_to-n-relationship-jsonapi_dev'\n  },\n\n  test: {\n    driver: 'sqlite3',\n    database: 'm_to-n-relationship-jsonapi_test'\n  },\n\n  production: {\n    driver: 'sqlite3',\n    database: 'm_to-n-relationship-jsonapi_prod'\n  }\n};\n","export function up(schema) {\n  return schema.createTable('guests', table => {\n    table.increments('id');\n    table.string('name');\n    table.timestamps();\n\n    table.index([\n      'id',\n      'created_at',\n      'updated_at'\n    ]);\n  });\n}\n\nexport function down(schema) {\n  return schema.dropTable('guests');\n}\n","export function up(schema) {\n  return schema.createTable('bookings', table => {\n    table.increments('id');\n    table.string('date');\n    table.string('duration');\n    table.integer('guest_id');\n    table.integer('room_id');\n    table.timestamps();\n\n    table.index([\n      'id',\n      'guest_id',\n      'room_id',\n      'created_at',\n      'updated_at'\n    ]);\n  });\n}\n\nexport function down(schema) {\n  return schema.dropTable('bookings');\n}\n","export function up(schema) {\n  return schema.createTable('rooms', table => {\n    table.increments('id');\n\n    table.timestamps();\n\n    table.index([\n      'id',\n      'created_at',\n      'updated_at'\n    ]);\n  });\n}\n\nexport function down(schema) {\n  return schema.dropTable('rooms');\n}\n","import { Model } from 'lux-framework';\n\nclass Booking extends Model {\n  static belongsTo = {\n    guest: {\n      inverse: 'booking'\n    },\n\n    room: {\n      inverse: 'booking'\n    }\n  };\n}\n\nexport default Booking;\n","import { Model } from 'lux-framework';\n\nclass Guest extends Model {\n      static hasMany = {\n    rooms: {\n      inverse: 'guest',\n      through: 'booking'\n    }\n  };\n}\n\nexport default Guest;\n","import { Model } from 'lux-framework';\n\nclass Room extends Model {\n      static hasMany = {\n    guests: {\n      inverse: 'room',\n      through: 'booking'\n    }\n  };\n}\n\nexport default Room;\n","export default function routes(route, resource) {\n  resource('guests');\n  resource('guests');\n  resource('rooms');\n  resource('bookings');\n  resource('rooms');\n}\n","export default function* range(start = 1, end = 1) {\n  while (start <= end) {\n    yield start++;\n  }\n}\n","import faker from 'faker';\n\nimport Guest from '../app/models/guest';\nimport Room from '../app/models/room';\nimport Booking from '../app/models/booking';\n\nimport range from '../app/utils/range';\n\nconst {\n\tname,\n\trandom,\n\tdate,\n\thelpers: {\n\t\trandomize\n\t}\n} = faker;\n\nexport default async function seed() {\n\n\tawait Promise.all(\n\t\t[...range(1, 100)].map(() => {\n\t\t\treturn Guest.create({\n        name: name.firstName() + \" \" + name.lastName(),\n\t\t\t\troomId: randomize([...range(1, 100)])\n\t\t\t});\n\t\t})\n\t);\n\n\tawait Promise.all(\n\t\t[...range(1, 100)].map(() => {\n\t\t\treturn Room.create({\n\t\t\t\tguestId: randomize([...range(1, 100)])\n\t\t\t});\n\t\t})\n\t);\n\n  await Promise.all(\n\t\t[...range(1, 100)].map(() => {\n\t\t\treturn Booking.create({\n        date: date.future(),\n        duration: randomize([...range(1, 14)]),\n\t\t\t\tguestId: randomize([...range(1, 100)]),\n\t\t\t\troomId: randomize([...range(1, 100)])\n\t\t\t});\n\t\t})\n\t);\n\n};\n","import { Serializer } from 'lux-framework';\n\nclass ApplicationSerializer extends Serializer {\n\n}\n\nexport default ApplicationSerializer;\n","import { Serializer } from 'lux-framework';\n\nclass BookingsSerializer extends Serializer {\n  attributes = [\n    'date',\n    'duration'\n  ];\n\n  hasOne = [\n    'guest',\n    'room'\n  ];\n}\n\nexport default BookingsSerializer;\n","import { Serializer } from 'lux-framework';\n\nclass GuestsSerializer extends Serializer {\n  attributes = [\n    'name'\n  ];\n\n  hasMany = [\n    'rooms'\n  ];\n}\n\nexport default GuestsSerializer;\n","import { Serializer } from 'lux-framework';\n\nclass RoomsSerializer extends Serializer {\n      hasMany = [\n    'guests'\n  ];\n}\n\nexport default RoomsSerializer;\n"],"names":["Application","Controller","up","down","Model","Serializer"],"mappings":"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"}